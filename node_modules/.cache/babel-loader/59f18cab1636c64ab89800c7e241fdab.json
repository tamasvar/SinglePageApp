{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Tanulo/Desktop/SinglePageApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Tanulo/Desktop/SinglePageApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Tanulo\\\\Desktop\\\\SinglePageApp\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from'react';import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function InstrumentSinglePage(props){var params=useParams();var id=params.hangszerId;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),instrument=_useState2[0],setInstrument=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isPending=_useState4[0],setPending=_useState4[1];// useEffect(() => {\n//     setPending(true);\n//     fetch(`https://kodbazis.hu/api/instruments/${id}`, { credentials: \"include\" })\n//         .then((res) => res.json())\n//         .then((hangszerek) => setInstrument(hangszerek))\n//         .catch(console.log)\n//         .finally(() => {\n//             setPending(false);\n//         });\n// }, [])\nuseEffect(function(){setPending(true);_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,hangszer;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://kodbazis.hu/api/instruments/\".concat(id),{credentials:\"include\"});case 3:res=_context.sent;_context.next=6;return res.json();case 6:hangszer=_context.sent;setInstrument(hangszer);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:_context.prev=13;setPending(false);return _context.finish(13);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,10,13,16]]);}))();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"p5 m-auto text-center content bg-lavender\",children:isPending||!instrument.id?/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border\"}):/*#__PURE__*/_jsx(\"div\",{className:\"card p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{children:instrument.brand}),/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:instrument.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"lead\",children:[instrument.price,\" Ft\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"K\\xE9szleten \",instrument.quantity,\" db\"]}),/*#__PURE__*/_jsx(\"img\",{alt:instrument.name,className:\"img-fluid rounded\",style:{maxHeight:\"500px\"},src:instrument.imageURL?instrument.imageURL:\"https://via.placeholder.com/400x800\"})]})})});}","map":{"version":3,"sources":["C:/Users/Tanulo/Desktop/SinglePageApp/src/InstrumentSinglePage.js"],"names":["React","useEffect","useState","useParams","InstrumentSinglePage","props","params","id","hangszerId","instrument","setInstrument","isPending","setPending","fetch","credentials","res","json","hangszer","console","log","brand","name","price","quantity","maxHeight","imageURL"],"mappings":"6XAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,C,wFAEA,MAAO,SAASC,CAAAA,oBAAT,CAA8BC,KAA9B,CACP,CACI,GAAMC,CAAAA,MAAM,CAAGH,SAAS,EAAxB,CACA,GAAMI,CAAAA,EAAE,CAAGD,MAAM,CAACE,UAAlB,CACA,cAAoCN,QAAQ,CAAC,EAAD,CAA5C,wCAAOO,UAAP,eAAmBC,aAAnB,eACA,eAAgCR,QAAQ,CAAC,KAAD,CAAxC,yCAAOS,SAAP,eAAkBC,UAAlB,eAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAX,SAAS,CAAC,UAAM,CACZW,UAAU,CAAC,IAAD,CAAV,CACA,wDAAC,0LAEyBC,CAAAA,KAAK,+CAAwCN,EAAxC,EAA8C,CAAEO,WAAW,CAAE,SAAf,CAA9C,CAF9B,QAEaC,GAFb,qCAG8BA,CAAAA,GAAG,CAACC,IAAJ,EAH9B,QAGaC,QAHb,eAIOP,aAAa,CAACO,QAAD,CAAb,CAJP,iFAQOC,OAAO,CAACC,GAAR,cARP,yBAYOP,UAAU,CAAC,KAAD,CAAV,CAZP,sGAAD,KAkBP,CApBY,CAoBV,EApBU,CAAT,CAsBA,mBACI,YAAK,SAAS,CAAC,2CAAf,UACKD,SAAS,EAAI,CAACF,UAAU,CAACF,EAAzB,cACC,YAAK,SAAS,CAAC,gBAAf,EADD,cAGG,YAAK,SAAS,CAAC,UAAf,uBACI,aAAK,SAAS,CAAC,WAAf,wBACI,oBAAKE,UAAU,CAACW,KAAhB,EADJ,cAEI,WAAI,SAAS,CAAC,YAAd,UAA4BX,UAAU,CAACY,IAAvC,EAFJ,cAGI,aAAK,SAAS,CAAC,MAAf,WAAuBZ,UAAU,CAACa,KAAlC,SAHJ,cAII,qCAAcb,UAAU,CAACc,QAAzB,SAJJ,cAKI,YAAK,GAAG,CAAEd,UAAU,CAACY,IAArB,CACI,SAAS,CAAC,mBADd,CAEI,KAAK,CAAE,CAAEG,SAAS,CAAE,OAAb,CAFX,CAGI,GAAG,CAAEf,UAAU,CAACgB,QAAX,CAAsBhB,UAAU,CAACgB,QAAjC,CAA4C,qCAHrD,EALJ,GADJ,EAJR,EADJ,CAqBH","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from \"react-router-dom\";\n\nexport function InstrumentSinglePage(props)\n{\n    const params = useParams();\n    const id = params.hangszerId;\n    const [instrument, setInstrument] = useState([]);\n    const [isPending, setPending] = useState(false);\n\n    // useEffect(() => {\n    //     setPending(true);\n    //     fetch(`https://kodbazis.hu/api/instruments/${id}`, { credentials: \"include\" })\n    //         .then((res) => res.json())\n    //         .then((hangszerek) => setInstrument(hangszerek))\n    //         .catch(console.log)\n    //         .finally(() => {\n    //             setPending(false);\n    //         });\n    // }, [])\n\n    useEffect(() => {\n        setPending(true);\n        (async () => {\n            try {\n                const res = await fetch(`https://kodbazis.hu/api/instruments/${id}`, { credentials: \"include\" })\n                const hangszer = await res.json();\n                setInstrument(hangszer);\n            }\n            catch(e)\n            {\n                console.log(e);\n            }\n            finally\n            {\n                setPending(false);\n            }\n\n        })\n    ();\n\n}, []);\n\n    return(\n        <div className=\"p5 m-auto text-center content bg-lavender\">\n            {isPending || !instrument.id ? (\n              <div className=\"spinner-border\"></div>\n            ) : (\n                <div className=\"card p-3\">\n                    <div className=\"card-body\">\n                        <h5>{instrument.brand}</h5>\n                        <h5 className=\"card-title\">{instrument.name}</h5>\n                        <div className=\"lead\">{instrument.price} Ft</div>\n                        <p>KÃ©szleten {instrument.quantity} db</p>\n                        <img alt={instrument.name}\n                            className=\"img-fluid rounded\"\n                            style={{ maxHeight: \"500px\" }}\n                            src={instrument.imageURL ? instrument.imageURL : \"https://via.placeholder.com/400x800\"}\n                        />\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}